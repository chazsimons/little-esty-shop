<h1>Invoice ID: <%= @invoice.id %></h1>

<%= form_with url: "/admin/invoices/#{@invoice.id}", method: :patch, local: true do |f| %>
  <%= f.label :status, "Invoice Status: " %>
  <%= f.select :status, ['completed', 'in progress', 'cancelled'], selected: @invoice.status %>
  <%= f.submit "Update Invoice Status" %>
<% end %>

<p>Customer: <%= @customer.first_name %> <%= @customer.last_name %></p>
<p>Created at: <%= @invoice.created_at.strftime('%A, %B %d, %Y') %></p>

<h2>Item Information:</h2>
<p>Item Name: <%= @item.name %></p>
<p>Quantity Ordered: <%= @invoice_items.quantity %></p>
<p>Price Sold For: <%= @item.unit_price %></p>
<p>Invoice Item Status: <%= @invoice_items.status %></p>

<section id="revenue_generated">
Total Revenue Generated: <br>
$<%= @invoice_items.item_revenue %><br>
Total Revenue After Discounts: <br>
$<%= @invoice_items.discount_revenue(@invoice.id) %>
</section>
